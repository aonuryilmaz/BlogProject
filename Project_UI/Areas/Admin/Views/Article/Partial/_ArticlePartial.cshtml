@model Project_Entity.Article
<!-- /.row -->

<div class="row">
    <div class="col-lg-12">
        <h5 class="page-header"><a href="/Admin/Article/Index" class="btn btn-primary">Geri Dön</a></h5>
    </div>
    <!-- /.col-lg-12 -->
</div>
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                @if (Model != null)
                {
                    <h5>Makale Güncelle</h5>


                }
                else

                {
                    <h5>Makale Ekle</h5>
                }
            </div>
            <div class="panel-body">
                <div class="row">
                    <div class="col-lg-6">
                        <form method="post" enctype="multipart/form-data">
                            @if (Model != null)
                            {
                                @Html.HiddenFor(x => x.ID)
                            }

                            <div class="form-group">
                                @Html.Label("Kategoriler")

                                @{

                                    var categories = ViewBag.selectedCategories as string[];
                                    var tags = ViewBag.selectedTags as string[];

                                    if (categories==null)
                                    {
                                        categories = new string[0];
                                    }
                                    if (tags==null)
                                    {
                                        tags = new string[0];
                                    }
                                }

                                <select name="categories" id="categories" multiple="multiple" class="form-control">
                                    @foreach (var item in ViewBag.categories as List<SelectListItem>)
                                    {
                                        <option @(categories.Contains(item.Value)?"selected=selected":"") value="@item.Value" >@item.Text</option>
                                    }
                                </select>
                            
                            </div>

                           
                            <div class="form-group">
                                @Html.Label("Etiketler:")
                                @Html.DropDownList("tags", ViewBag.tags as List<SelectListItem>, new { @class = "form-control" , @multiple = "multiple" })
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(x => x.Title)
                                @Html.TextBoxFor(x => x.Title, new { @class = "form-control" })
                            </div>
                            <div class="form-group">
                                @Html.LabelFor(x => x.Content)
                                @Html.TextAreaFor(x => x.Content, new { @class = "form-control",@id="content" })
                            </div>

                            <div class="form-group">
                                <input type="file" name="_document" />
                            </div>

                            @if (Model != null)
                            {
                                <img src="@Model.ImagePath" width="60" height="60" />
                            }
                            <div class="form-group">
                                <input type="submit" class="btn btn-success" value="Kaydet" />
                            </div>
                        </form>
                    </div>
                    <!-- /.col-lg-6 (nested) -->
                    <!-- /.col-lg-6 (nested) -->
                </div>
                <!-- /.row (nested) -->
            </div>
            <!-- /.panel-body -->
        </div>
        <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
</div>

